@tailwind base;
@tailwind components;
@tailwind utilities;

@layer base {
  :root {
    --background: 222.2 84% 4.9%;
    --foreground: 210 40% 98%;
    --card: 222.2 84% 4.9%;
    --card-foreground: 210 40% 98%;
    --popover: 222.2 84% 4.9%;
    --popover-foreground: 210 40% 98%;
    --primary: 160 84% 39%;
    --primary-foreground: 210 40% 98%;
    --secondary: 217.2 32.6% 17.5%;
    --secondary-foreground: 210 40% 98%;
    --muted: 217.2 32.6% 17.5%;
    --muted-foreground: 215 20.2% 65.1%;
    --accent: 217.2 32.6% 17.5%;
    --accent-foreground: 210 40% 98%;
    --destructive: 0 62.8% 30.6%;
    --destructive-foreground: 210 40% 98%;
    --border: 217.2 32.6% 17.5%;
    --input: 217.2 32.6% 17.5%;
    --ring: 160 84% 39%;
    --radius: 0.75rem;
    
    /* Modern accent colors */
    --accent-emerald: 160 84% 39%;
    --accent-cyan: 185 94% 45%;
    --accent-purple: 265 89% 66%;
    --glow-primary: 160 84% 39%;
  }
}

@layer base {
  * {
    @apply border-border;
  }
  body {
    @apply bg-background text-foreground antialiased;
    font-feature-settings: "rlig" 1, "calt" 1;
    background: 
      radial-gradient(ellipse 80% 50% at 50% -20%, hsl(var(--accent-emerald) / 0.15), transparent),
      radial-gradient(ellipse 60% 40% at 100% 100%, hsl(var(--accent-purple) / 0.1), transparent),
      hsl(var(--background));
  }
}

/* Custom scrollbar - thinner and more subtle */
::-webkit-scrollbar {
  width: 6px;
  height: 6px;
}

::-webkit-scrollbar-track {
  background: transparent;
}

::-webkit-scrollbar-thumb {
  background: hsl(var(--muted-foreground) / 0.2);
  border-radius: 3px;
}

::-webkit-scrollbar-thumb:hover {
  background: hsl(var(--muted-foreground) / 0.4);
}

/* Modern Panel styling with glassmorphism */
.panel {
  @apply rounded-xl border border-white/[0.08] shadow-xl;
  background: linear-gradient(
    135deg,
    hsl(var(--card) / 0.8) 0%,
    hsl(var(--card) / 0.6) 100%
  );
  backdrop-filter: blur(20px);
  -webkit-backdrop-filter: blur(20px);
}

.panel-header {
  @apply px-5 py-3.5 border-b border-white/[0.06] flex items-center justify-between;
  background: linear-gradient(
    180deg,
    hsl(var(--secondary) / 0.3) 0%,
    transparent 100%
  );
}

.panel-title {
  @apply text-sm font-semibold text-foreground tracking-wide;
}

.panel-content {
  @apply p-4 overflow-auto;
}

/* Agent status colors with glow */
.agent-idle {
  @apply text-muted-foreground;
}

.agent-working {
  @apply text-yellow-400;
  text-shadow: 0 0 12px hsl(45 95% 55% / 0.5);
}

.agent-completed {
  @apply text-emerald-400;
  text-shadow: 0 0 12px hsl(160 84% 39% / 0.5);
}

.agent-error {
  @apply text-red-400;
  text-shadow: 0 0 12px hsl(0 80% 55% / 0.5);
}

/* Modern Message bubbles with gradient and glow */
.message-user {
  @apply rounded-2xl rounded-br-sm;
  background: linear-gradient(135deg, hsl(var(--primary)) 0%, hsl(var(--accent-cyan)) 100%);
  color: hsl(222 84% 4.9%);
  box-shadow: 
    0 4px 20px -4px hsl(var(--primary) / 0.4),
    inset 0 1px 0 hsl(0 0% 100% / 0.2);
}

.message-assistant {
  @apply bg-secondary/80 text-secondary-foreground rounded-2xl rounded-bl-sm;
  border: 1px solid hsl(var(--border) / 0.5);
  backdrop-filter: blur(10px);
}

.message-error {
  @apply rounded-xl;
  background: linear-gradient(135deg, hsl(0 62% 20% / 0.3) 0%, hsl(0 62% 15% / 0.2) 100%);
  border: 1px solid hsl(0 62% 40% / 0.3);
  color: hsl(0 85% 70%);
}

/* Markdown styling - refined */
.markdown-content h1 { @apply text-xl font-bold mt-5 mb-3 text-foreground; }
.markdown-content h2 { @apply text-lg font-semibold mt-4 mb-2 text-foreground; }
.markdown-content h3 { @apply text-base font-medium mt-3 mb-2 text-foreground/90; }
.markdown-content p { @apply mb-2.5 leading-relaxed text-foreground/85; }
.markdown-content ul, .markdown-content ol { @apply mb-2.5 pl-5 space-y-1; }
.markdown-content li { @apply text-foreground/85; }
.markdown-content li::marker { @apply text-primary; }
.markdown-content code { 
  @apply px-1.5 py-0.5 rounded text-[13px] font-mono;
  background: hsl(var(--secondary) / 0.8);
  color: hsl(var(--accent-cyan));
}
.markdown-content pre { 
  @apply p-4 rounded-lg overflow-x-auto mb-3 text-[13px];
  background: hsl(220 20% 8%);
  border: 1px solid hsl(var(--border) / 0.5);
}
.markdown-content pre code { @apply bg-transparent p-0 text-foreground/90; }
.markdown-content table { @apply w-full border-collapse mb-3 text-sm; }
.markdown-content th, .markdown-content td { 
  @apply border border-border/50 px-3 py-2 text-left;
}
.markdown-content th { 
  @apply font-medium;
  background: hsl(var(--secondary) / 0.5);
}
.markdown-content blockquote {
  @apply pl-4 border-l-2 border-primary/50 italic text-foreground/70 my-3;
}
.markdown-content a {
  @apply text-primary hover:text-primary/80 underline underline-offset-2;
}
.markdown-content hr {
  @apply border-border/30 my-4;
}

/* Modern animations */
@keyframes shimmer {
  0% { background-position: -200% 0; }
  100% { background-position: 200% 0; }
}

@keyframes glow-pulse {
  0%, 100% { opacity: 0.5; }
  50% { opacity: 1; }
}

@keyframes float {
  0%, 100% { transform: translateY(0); }
  50% { transform: translateY(-4px); }
}

@keyframes slide-up {
  from { 
    opacity: 0;
    transform: translateY(8px);
  }
  to { 
    opacity: 1;
    transform: translateY(0);
  }
}

.animate-shimmer {
  background: linear-gradient(
    90deg,
    transparent 0%,
    hsl(var(--primary) / 0.1) 50%,
    transparent 100%
  );
  background-size: 200% 100%;
  animation: shimmer 2s infinite;
}

.animate-glow-pulse {
  animation: glow-pulse 2s ease-in-out infinite;
}

.animate-float {
  animation: float 3s ease-in-out infinite;
}

.animate-slide-up {
  animation: slide-up 0.3s ease-out;
}

/* Glass button effect */
.btn-glass {
  @apply relative overflow-hidden;
  background: linear-gradient(
    135deg,
    hsl(var(--secondary) / 0.6) 0%,
    hsl(var(--secondary) / 0.3) 100%
  );
  border: 1px solid hsl(var(--border) / 0.5);
  backdrop-filter: blur(10px);
}

.btn-glass::before {
  content: '';
  position: absolute;
  inset: 0;
  background: linear-gradient(
    135deg,
    hsl(0 0% 100% / 0.1) 0%,
    transparent 50%
  );
  pointer-events: none;
}

.btn-glass:hover {
  background: linear-gradient(
    135deg,
    hsl(var(--secondary) / 0.8) 0%,
    hsl(var(--secondary) / 0.5) 100%
  );
  border-color: hsl(var(--primary) / 0.3);
}

/* Primary button with glow */
.btn-primary-glow {
  @apply relative;
  background: linear-gradient(135deg, hsl(var(--primary)) 0%, hsl(var(--accent-cyan)) 100%);
  box-shadow: 
    0 4px 20px -4px hsl(var(--primary) / 0.5),
    inset 0 1px 0 hsl(0 0% 100% / 0.2);
  transition: all 0.2s ease;
}

.btn-primary-glow:hover {
  transform: translateY(-1px);
  box-shadow: 
    0 8px 30px -4px hsl(var(--primary) / 0.6),
    inset 0 1px 0 hsl(0 0% 100% / 0.3);
}

.btn-primary-glow:active {
  transform: translateY(0);
}

/* Status indicator dot with glow */
.status-dot {
  @apply w-2 h-2 rounded-full;
  box-shadow: 0 0 8px currentColor;
}

.status-dot.connected {
  @apply bg-emerald-400;
  box-shadow: 0 0 12px hsl(160 84% 39% / 0.6);
}

.status-dot.disconnected {
  @apply bg-red-400;
  box-shadow: 0 0 12px hsl(0 80% 55% / 0.6);
}

/* Input focus glow */
.input-glow:focus {
  border-color: hsl(var(--primary) / 0.5);
  box-shadow: 
    0 0 0 3px hsl(var(--primary) / 0.1),
    0 0 20px -5px hsl(var(--primary) / 0.3);
}

/* Card hover effect */
.card-hover {
  @apply transition-all duration-300;
}

.card-hover:hover {
  transform: translateY(-2px);
  box-shadow: 
    0 20px 40px -15px hsl(0 0% 0% / 0.3),
    0 0 30px -10px hsl(var(--primary) / 0.1);
  border-color: hsl(var(--primary) / 0.2);
}
